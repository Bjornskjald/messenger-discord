<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Miscord Config Generator</title>
		<link rel="icon" href="img/icon.png">
		<link rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css"
			integrity="sha256-zIG416V1ynj3Wgju/scU80KAEWOsO5rRLfVyRDuOv7Q="
			crossorigin="anonymous" />
		<link rel="stylesheet" href="css/footer.css">
		<link rel="stylesheet" href="css/checkbox.css">
		<style>
			.input::-moz-placeholder,
			.textarea::-moz-placeholder {
				color: rgba(54, 54, 54, 0.7);
			}

			.input::-webkit-input-placeholder,
			.textarea::-webkit-input-placeholder {
				color: rgba(54, 54, 54, 0.7);
			}

			.input:-moz-placeholder,
			.textarea:-moz-placeholder {
				color: rgba(54, 54, 54, 0.7);
			}

			.input:-ms-input-placeholder,
			.textarea:-ms-input-placeholder {
				color: rgba(54, 54, 54, 0.7);
			}
			.config::before {
				background: #209cee;
				border-radius: 2px 2px 0 0;
				bottom: 98%;
				color: rgba(0,0,0,.7);
				content: "Config";
				display: inline-block;
				font-size: 10px;
				font-weight: 700;
				/* left: 5px; */
				letter-spacing: 1px;
				margin-left: -1px;
				padding: 3px 5px;
				position: absolute;
				text-transform: uppercase;
				vertical-align: top;
			}

			#config-miscord::before {
				content: "Miscord";
			}

			#config-messenger::before {
				content: "Messenger";
			}

			#config-discord::before {
				content: "Discord";
			}

			.config {
				margin-bottom: 2rem !important;
			}

			.disclaimer {
				margin-top: 10px;
				margin-bottom: 20px !important;
			}

			footer a:not(.button) {
				box-shadow: inset 0 -1px 0 0 rgba(0, 0, 0, 0.1) !important;
			}
		</style>
	</head>
	<body>
		<section class="hero is-info">
			<div class="hero-body">
				<div class="container">
					<h1 class="title">
						Miscord Config Generator
					</h1>
				</div>
			</div>
		</section>

		<div class="container" style="margin-top: 40px;">
			<aside class="menu">
				<p class="menu-label">
					Helpful links
				</p>
				<ul class="menu-list">
					<li><a href="javascript:toggleModal('#configLocation')">
						Where is my config file?
					</a></li>
					<li><a href="https://wiki.miscord.net/Creating-a-Discord-bot">
						Where can I get Discord token from?
					</a></li>
					<li><a href="https://support.discordapp.com/hc/en-us/articles/206346498-Where-can-I-find-my-User-Server-Message-ID-">
						Where can I find Discord User/Server/Channel ID?
					</a></li>
					<li><a href="https://github.com/ptrcnull/miscord/wiki/faq#where-to-find-thread-id">
						Where can I find Facebook thread ID?
					</a></li>
					<li><a href="https://github.com/ptrcnull/miscord/#configuration">
						Configuration
					</a></li>
					<li><a href="https://wiki.miscord.net/Troubleshooting">
						Troubleshooting
					</a></li>
					<li><a href="https://wiki.miscord.net/Connections.yml">
						<b>After configuration - create connections</b>
					</a></li>
				</ul>
			</aside>
		</div>

		<section class="section">

			<div class="container" style="margin-bottom: 2rem;">
				<div class="file is-info" id="upload-wrapper">
					<label class="file-label">
						<input class="file-input" type="file" accept=".json" id="config-upload">
						<span class="file-cta">
							<span class="file-label">
								Import your config fileâ€¦
							</span>
						</span>
						<span class="file-name" id="filename" style="visibility: hidden"></span>
					</label>
				</div>
			</div>

			<div class="container">
				<div class="columns">
					<div class="column">
						<div class="box config" id="config-miscord">
							<div class="field">
								<label class="label">Log level</label>
								<div class="select">
									<select id="miscord-logLevel">
										<option value="silent">silent</option>
										<option value="warn">warn</option>
										<option value="info" selected>info</option>
										<option value="debug">debug</option>
										<option value="trace">trace</option>
									</select>
								</div>
							</div>

							<div class="field">
								<label class="checkbox">
									<input id="miscord-checkUpdates" type="checkbox">
									<span>Check updates</span>
								</label>
							</div>

							<div class="field">
								<input class="input" id="channels-error" type="text" placeholder="Channel (or your user ID) for error reports">
							</div>

							<div class="field">
								<input class="input" id="channels-command" type="text" placeholder="Channel (or your user ID) for commands">
							</div>

							<div class="field">
								<input class="input" id="miscord-timezone" type="text" placeholder="Timezone (tz database format)">
							</div>

							<div class="box">
									<div class="field">
										<label class="label">Ignored sequences</label>
										<textarea id="miscord-ignoredSequences" class="textarea" placeholder="Ignored sequences (regexes without /, one in a line)"></textarea>
									</div>
							</div>
						</div>
					</div>
					<div class="column">
						<div class="box config" id="config-messenger">
							<div class="field">
								<input class="input" id="messenger-username" type="text" placeholder="Facebook mail/username">
							</div>

							<div class="field">
								<input class="input" id="messenger-password" type="text" placeholder="Facebook password">
							</div>

							<div class="field">
								<input class="input" id="messenger-format" type="text" placeholder="Message format">
							</div>

							<div class="box">
								<label class="label">Source format</label>
								<div class="field">
									<input class="input" id="messenger-sourceFormat-discord" type="text" placeholder="Discord source format">
								</div>

								<div class="field">
									<input class="input" id="messenger-sourceFormat-messenger" type="text" placeholder="Messenger source format">
									<p class="help">
										Use source formats only when you used {source} in the message format<br />
										More info about message format <a href="https://github.com/ptrcnull/miscord/wiki/format">here</a>
									</p>
								</div>
							</div>

							<div class="field">
								<label class="checkbox">
									<input id="messenger-ignoreEmbeds" type="checkbox">
									<span>Ignore embeds from Discord</span>
								</label>
							</div>

							<div class="field">
								<label class="checkbox">
									<input id="messenger-attachmentTooLargeError" type="checkbox" checked="checked">
									<span>Show "attachments too large" error when sending to Discord</span>
								</label>
							</div>

							<div class="field">
								<label class="checkbox">
									<input id="messenger-handleEvents" type="checkbox" checked="checked">
									<span>Handle events (chat rename, nickname change, etc.)</span>
								</label>
							</div>

							<div class="field">
								<label class="checkbox">
									<input id="messenger-handlePlans" type="checkbox" checked="checked">
									<span>Handle plans</span>
								</label>
							</div>

							<div class="field">
								<label class="checkbox">
									<input id="messenger-handlePolls" type="checkbox" checked="checked">
									<span>Handle polls</span>
								</label>
							</div>

							<div class="field">
								<label class="checkbox">
									<input id="messenger-showPlanDetails" type="checkbox" checked="checked">
									<span>Show more details for plans</span>
								</label>
							</div>

							<div class="field">
								<label class="checkbox">
									<input id="messenger-showPollDetails" type="checkbox" checked="checked">
									<span>Show more details for polls</span>
								</label>
							</div>
						</div>
					</div>
					<div class="column">
						<div class="box config" id="config-discord">
							<div class="field">
								<input class="input" id="discord-token" type="text" placeholder="Discord token">
							</div>

							<div class="field">
								<input class="input" id="discord-guild" type="text" placeholder="Discord guild (optional)">
							</div>

							<div class="field">
								<input class="input" id="discord-category" type="text" placeholder="Discord category name (optional)">
							</div>

							<div class="field">
								<label class="checkbox">
									<input id="discord-renameChannels" type="checkbox" checked="checked">
									<span>Rename Discord channels according to Messenger chat renames</span>
								</label>
							</div>

							<div class="field">
								<label class="checkbox">
									<input id="discord-showFullNames" type="checkbox">
									<span>Show Messenger users' full names alongside their nicknames on Discord</span>
								</label>
							</div>

							<div class="field">
								<label class="checkbox">
									<input id="discord-createChannels" type="checkbox">
									<span>Create new channels from Facebook threads if not found</span>
								</label>
							</div>
			
							<div class="field">
								<label class="checkbox">
									<input id="discord-massMentions" type="checkbox" checked="checked">
									<span>Allow for @everyone or @here from Messenger</span>
								</label>
							</div>
			
							<div class="field">
								<label class="checkbox">
									<input id="discord-userMentions" type="checkbox" checked="checked">
									<span>Allow for user/role mentions from Messenger</span>
								</label>
							</div>

							<div class="field">
								<label class="checkbox">
									<input id="discord-ignoreBots" type="checkbox">
									<span>Ignore all messages from bots (or webhooks)</span>
								</label>
							</div>

							<div class="box">
								<div class="field">
									<label class="label">Ignored users</label>
									<textarea id="discord-ignoredUsers" class="textarea" placeholder="Ignored users (IDs, one in a line)"></textarea>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="container">
				<div class="level">
					<div class="level-left">
						<a class="button is-info is-medium" id="generate-config">Generate config</a>
					</div>
					<div class="level-right">
						<a class="button is-info is-medium" id="download-config">Download config</a>
					</div>
				</div> 
				<div class="field">
					<textarea class="textarea" placeholder="Click the button above" id="output" rows="25"></textarea>
				</div> 
			</div>

		</section>

		<footer class="footer hero is-info is-paddingless">
			<div class="hero-body">
				<div class="container">
					<div class="has-text-centered">
						<p>Created by <a href="https://ptrcnull.me">ptrcnull</a>.</p>
						<p class="disclaimer"><strong>Miscord</strong> is a third-party app and is not affiliated with Facebook nor Discord.</p>
						<div class="block">
							<a class="button is-info is-inverted is-outlined" href="https://github.com/ptrcnull/miscord">Source Code</a>
						</div>
					</div>
				</div>
			</div>
		</footer>

		<div class="modal" id="configLocation">
			<div class="modal-background" onclick="toggleModal('#configLocation')"></div>
			<div class="modal-content">
				<article class="message is-primary">
				<div class="message-header">
					<p>Where is my config file?</p>
				</div>
				<div class="message-body">
					<b>Windows</b>: <pre>%appdata%/Miscord/config.json</pre><br />
					<i>%appdata% on Windows is a system folder located in C:/Users/your_username/AppData/Roaming</i><br /><br />
					<b>macOS</b>: <pre>~/Library/Application Support/Miscord/config.json</pre><br />
					<b>Linux</b>: <pre>~/.config/Miscord/config.json</pre><br />
					<b>Other</b>: <pre>~/.miscord/config.json</pre><br />
					<i>~ = your home folder</i><br />
				</div>
				</article>
			</div>
			<button class="modal-close is-large" aria-label="close"></button>
		</div>
		<script src="js/configGenerator.js" type="module"></script>
		<script src="js/modal.js"></script>
	</body>
</html>
